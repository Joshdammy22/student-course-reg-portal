{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
    <div class="jumbotron p-5" style="background-color: rgba(0, 0, 0, 0.6); border-radius: 10px; color: white; max-width: 500px; margin: auto;">
        <h2 class="display-5 text-center">Set Password</h2>
        <form method="post" novalidate>
            {% csrf_token %}
            <div class="form-group mb-3">
                <label for="id_password1">Password:</label>
                <div class="input-group">
                    {{ form.password1 }}
                    <span class="input-group-text" onclick="togglePasswordVisibility('id_password1', 'togglePassword1')">
                        <i class="fa fa-eye" id="togglePassword1"></i>
                    </span>
                </div>
            </div>
            <div class="form-group mb-3">
                <label for="id_password2">Confirm Password:</label>
                <div class="input-group">
                    {{ form.password2 }}
                    <span class="input-group-text" onclick="togglePasswordVisibility('id_password2', 'togglePassword2')">
                        <i class="fa fa-eye" id="togglePassword2"></i>
                    </span>
                </div>
            </div>
            <button type="submit" class="btn btn-primary btn-lg">Set Password</button>
        </form>
    </div>
</div>

<script>
    function togglePasswordVisibility(fieldId, iconId) {
        var passwordField = document.getElementById(fieldId);
        var toggleIcon = document.getElementById(iconId);

        if (passwordField.type === "password") {
            passwordField.type = "text";
            toggleIcon.classList.remove("fa-eye");
            toggleIcon.classList.add("fa-eye-slash");
        } else {
            passwordField.type = "password";
            toggleIcon.classList.remove("fa-eye-slash");
            toggleIcon.classList.add("fa-eye");
        }
    }
</script>

{% endblock %}
